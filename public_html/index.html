<!DOCTYPE html>
<html>
	<head>
		<title>Market Place Data Harvester</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
		<script src="https://bitwiseshiftleft.github.io/sjcl/sjcl.js"></script>
		<script>
			var savedUsername = null;
			var savedAuthToken = null;
		</script>
		<script src="login.js" type="text/javascript"></script>
		<script src="register.js" type="text/javascript"></script>
		<script src="price.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="pageContent">
			<h1>Market Place Data Harvester</h1>
			<h5>Login</h5>
			<form>
				<input id="login" type="text" placeholder="Login" value="bruno" /><br>
				<input id="password" type="password" placeholder="Password" value="azerty" /><br>
				<input id="sign_in_button" type="submit" value="Sign in"/>
				<input id="register_button" type="submit" value="Register"/><br/>
				<input id="insert_price_button" type="submit" value="Insert Item"/><br/>
				<input id="items_button" type="submit" value="Fire !"/><br/>
				<div id="errorDisplay"></div>
			</form>
		</div>
		
		<script>
			$(function(){
				$("#sign_in_button").click(function(evt){
					var login = $("#login").val();
					var password = $("#password").val();
					loginRequest(login, password);
					return false;
				});
				$("#register_button").click(function(evt){
					var login = $("#login").val();
					var password = $("#password").val();
					register(login, password);
					return false;
				});
				$("#items_button").click(function(evt){
					$.get({
						url: "/item/1589/prices",
						data: {
							startTime: "12/25/2015",
							endTime: "12/31/2016"
						}
					});
					return false;
				});
				$("#insert_price_button").click(function(evt){
					insertPrice(savedUsername, savedAuthToken, {itemId: 1589, price_1: 150, price_avg: 139});
					return false;
				});
			});
		</script>
	</body>
</html>